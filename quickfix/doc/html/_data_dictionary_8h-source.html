<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>/home/orenmnero/autobuild/quickfix/src/C++/DataDictionary.h Source File</title>
<link href="quickfix.css" rel="stylesheet" type="text/css">
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td><img src="images/outsideTopLeft.gif"></td>
   <td width="100%" class="outsideTop">&nbsp;</td>
   <td><img src="images/outsideTopRight.gif"></td>
  </tr>
  <tr>
   <td class="outsideLeft">&nbsp;</td>
   <td>
	<img src="images/QuickFIX.jpg" align="middle" border=0>
	&nbsp;&nbsp;
	<a href="index.html">Index</a>&nbsp;
	<a href="files.html">Source Files</a>&nbsp;
	<a href="annotated.html">Annotated Class List</a>&nbsp;
	<a href="classes.html">Alphabetical Class List</a>&nbsp;
	<a href="hierarchy.html">Class Hierarchy</a>&nbsp;
	<a href="inherits.html">Graphical Class Hierarchy</a>&nbsp;
   </td>
   <td class="outsideRight">&nbsp;</td>
  </tr>
  <tr>
   <td><img src="images/outsideBottomLeft.gif"></td>
   <td width=100% class="outsideBottom">&nbsp;</td>
   <td><img src="images/outsideBottomRight.gif"></td>
  </tr>
</table>
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.3.6-20040222 -->
<h1>/home/orenmnero/autobuild/quickfix/src/C++/DataDictionary.h</h1><a href="_data_dictionary_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* -*- C++ -*- */</span>
00002 
00003 <span class="comment">/****************************************************************************</span>
00004 <span class="comment">** Copyright (c) quickfixengine.org  All rights reserved.</span>
00005 <span class="comment">**</span>
00006 <span class="comment">** This file is part of the QuickFIX FIX Engine</span>
00007 <span class="comment">**</span>
00008 <span class="comment">** This file may be distributed under the terms of the quickfixengine.org</span>
00009 <span class="comment">** license as defined by quickfixengine.org and appearing in the file</span>
00010 <span class="comment">** LICENSE included in the packaging of this file.</span>
00011 <span class="comment">**</span>
00012 <span class="comment">** This file is provided AS IS with NO WARRANTY OF ANY KIND, INCLUDING THE</span>
00013 <span class="comment">** WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.</span>
00014 <span class="comment">**</span>
00015 <span class="comment">** See http://www.quickfixengine.org/LICENSE for licensing information.</span>
00016 <span class="comment">**</span>
00017 <span class="comment">** Contact ask@quickfixengine.org if any conditions of this licensing are</span>
00018 <span class="comment">** not clear to you.</span>
00019 <span class="comment">**</span>
00020 <span class="comment">****************************************************************************/</span>
00021 
00022 <span class="preprocessor">#ifndef FIX_DATADICTIONARY_H</span>
00023 <span class="preprocessor"></span><span class="preprocessor">#define FIX_DATADICTIONARY_H</span>
00024 <span class="preprocessor"></span>
00025 <span class="preprocessor">#ifdef _MSC_VER</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#pragma warning( disable : 4503 4355 4786 4290 )</span>
00027 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00028 <span class="preprocessor"></span>
00029 <span class="preprocessor">#include "<a class="code" href="_fields_8h.html">Fields.h</a>"</span>
00030 <span class="preprocessor">#include "<a class="code" href="_field_map_8h.html">FieldMap.h</a>"</span>
00031 <span class="preprocessor">#include "<a class="code" href="_d_o_m_document_8h.html">DOMDocument.h</a>"</span>
00032 <span class="preprocessor">#include "<a class="code" href="_exceptions_8h.html">Exceptions.h</a>"</span>
00033 <span class="preprocessor">#include &lt;set&gt;</span>
00034 <span class="preprocessor">#include &lt;map&gt;</span>
00035 <span class="preprocessor">#include &lt;string.h&gt;</span>
00036 
00037 <span class="keyword">namespace </span>FIX
00038 {
00039 <span class="keyword">class </span>FieldMap;
00040 <span class="keyword">class </span>Message;
00041 
<a name="l00049"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html">00049</a> <span class="keyword">class </span><a class="code" href="class_f_i_x_1_1_data_dictionary.html">DataDictionary</a>
00050 {
<a name="l00051"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#y0">00051</a>   <span class="keyword">typedef</span> std::set &lt; int &gt; <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y0">MsgFields</a>;
<a name="l00052"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#y1">00052</a>   <span class="keyword">typedef</span> std::map &lt; std::string, MsgFields &gt; <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y1">MsgTypeToField</a>;
<a name="l00053"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#y2">00053</a>   <span class="keyword">typedef</span> std::set &lt; std::string &gt; <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y2">MsgTypes</a>;
<a name="l00054"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#y3">00054</a>   <span class="keyword">typedef</span> std::set &lt; int &gt; <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y3">Fields</a>;
<a name="l00055"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#y4">00055</a>   <span class="keyword">typedef</span> std::map &lt; int, bool &gt; <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y4">NonBodyFields</a>;
<a name="l00056"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#y5">00056</a>   <span class="keyword">typedef</span> std::vector&lt; int &gt; <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y5">OrderedFields</a>;
<a name="l00057"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#y6">00057</a>   <span class="keyword">typedef</span> <span class="keywordtype">int</span>* <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y6">OrderedFieldsArray</a>;
<a name="l00058"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#y7">00058</a>   <span class="keyword">typedef</span> std::map &lt; int, TYPE::Type &gt; <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y7">FieldTypes</a>;
<a name="l00059"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#y8">00059</a>   <span class="keyword">typedef</span> std::set &lt; std::string &gt; <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y8">Values</a>;
<a name="l00060"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#y9">00060</a>   <span class="keyword">typedef</span> std::map &lt; int, Values &gt; <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y9">FieldToValue</a>;
<a name="l00061"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#y10">00061</a>   <span class="keyword">typedef</span> std::map &lt; int, std::string &gt; <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y10">FieldToName</a>;
<a name="l00062"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#y11">00062</a>   <span class="keyword">typedef</span> std::map &lt; std::string, int &gt; <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y11">NameToField</a>;
00063   <span class="keyword">typedef</span> std::map &lt; std::pair &lt; int, std::string &gt; ,
<a name="l00064"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#y12">00064</a>   std::string  &gt; <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y12">ValueToName</a>;
00065   <span class="keyword">typedef</span> std::map &lt; std::pair &lt; std::string, int &gt; ,
<a name="l00066"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#y13">00066</a>   std::pair &lt; int, DataDictionary* &gt; &gt; <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y13">FieldToGroup</a>;
00067 
00068 <span class="keyword">public</span>:
00069   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a0">DataDictionary</a>();
00070   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a0">DataDictionary</a>( <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html">DataDictionary</a>&amp; copy );
00071   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a0">DataDictionary</a>( std::istream&amp; stream ) <span class="keywordflow">throw</span>( <a class="code" href="struct_f_i_x_1_1_config_error.html">ConfigError</a> );
00072   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a0">DataDictionary</a>( <span class="keyword">const</span> std::string&amp; url ) <span class="keywordflow">throw</span>( <a class="code" href="struct_f_i_x_1_1_config_error.html">ConfigError</a> );
00073   <span class="keyword">virtual</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a4">~DataDictionary</a>();
00074 
00075   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a5">readFromURL</a>( <span class="keyword">const</span> std::string&amp; url ) <span class="keywordflow">throw</span>( <a class="code" href="struct_f_i_x_1_1_config_error.html">ConfigError</a> );
00076   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a6">readFromDocument</a>( <a class="code" href="namespace_f_i_x.html#a80">DOMDocumentPtr</a> pDoc ) <span class="keywordflow">throw</span>( <a class="code" href="struct_f_i_x_1_1_config_error.html">ConfigError</a> );
00077   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a7">readFromStream</a>( std::istream&amp; stream ) <span class="keywordflow">throw</span>( <a class="code" href="struct_f_i_x_1_1_config_error.html">ConfigError</a> );
00078 
00079   <span class="keywordtype">int</span>* <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a8">getOrderedFields</a>() <span class="keyword">const</span>;
00080 
00081   <span class="comment">// storage functions</span>
<a name="l00082"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a9">00082</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a9">setVersion</a>( <span class="keyword">const</span> std::string&amp; beginString )
00083   {
00084     <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r4">m_beginString</a> = beginString;
00085     <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r0">m_hasVersion</a> = <span class="keyword">true</span>;
00086   }
<a name="l00087"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a10">00087</a>   std::string <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a10">getVersion</a>()<span class="keyword"> const</span>
00088 <span class="keyword">  </span>{
00089     <span class="keywordflow">return</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r4">m_beginString</a>;
00090   }
00091 
<a name="l00092"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a11">00092</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a11">addField</a>( <span class="keywordtype">int</span> field )
00093   {
00094     <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r8">m_fields</a>.insert( field );
00095     <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r9">m_orderedFields</a>.push_back( field );
00096   }
00097 
<a name="l00098"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a12">00098</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a12">addFieldName</a>( <span class="keywordtype">int</span> field, <span class="keyword">const</span> std::string&amp; name )
00099   {
00100     <span class="keywordflow">if</span>( <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r16">m_names</a>.insert( std::make_pair(name, field) ).second == <span class="keyword">false</span> )
00101       <span class="keywordflow">throw</span> <a class="code" href="struct_f_i_x_1_1_config_error.html">ConfigError</a>( <span class="stringliteral">"Field named "</span> + name + <span class="stringliteral">" defined multiple times"</span> );
00102     <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r15">m_fieldNames</a>[field] = name;
00103   }
00104 
<a name="l00105"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a13">00105</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a13">getFieldName</a>( <span class="keywordtype">int</span> field, std::string&amp; name )<span class="keyword"> const</span>
00106 <span class="keyword">  </span>{
00107     FieldToName::const_iterator i = <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r15">m_fieldNames</a>.find( field );
00108     <span class="keywordflow">if</span>(i == <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r15">m_fieldNames</a>.end()) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00109     name = i-&gt;second;
00110     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00111   }
00112 
<a name="l00113"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a14">00113</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a14">getFieldTag</a>( std::string name, <span class="keywordtype">int</span>&amp; field )<span class="keyword"> const</span>
00114 <span class="keyword">  </span>{
00115     NameToField::const_iterator i = <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r16">m_names</a>.find( name );
00116     <span class="keywordflow">if</span>(i == <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r16">m_names</a>.end()) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00117     field = i-&gt;second;
00118     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00119   }
00120 
<a name="l00121"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a15">00121</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a15">addValueName</a>( <span class="keywordtype">int</span> field, <span class="keyword">const</span> std::string&amp; value, <span class="keyword">const</span> std::string&amp; name )
00122   {
00123     <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r17">m_valueNames</a>[std::make_pair(field, value)] = name;
00124   }
00125 
<a name="l00126"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a16">00126</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a16">getValueName</a>( <span class="keywordtype">int</span> field, <span class="keyword">const</span> std::string&amp; value, std::string&amp; name )<span class="keyword"> const</span>
00127 <span class="keyword">  </span>{
00128     ValueToName::const_iterator i = <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r17">m_valueNames</a>.find( std::make_pair(field, value) );
00129     <span class="keywordflow">if</span>(i == <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r17">m_valueNames</a>.end()) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00130     name = i-&gt;second;
00131     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00132   }
00133 
<a name="l00134"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a17">00134</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a17">isField</a>( <span class="keywordtype">int</span> field )<span class="keyword"> const</span>
00135 <span class="keyword">  </span>{
00136     <span class="keywordflow">return</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r8">m_fields</a>.find( field ) != <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r8">m_fields</a>.end();
00137   }
00138 
<a name="l00139"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a18">00139</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a18">addMsgType</a>( <span class="keyword">const</span> std::string&amp; msgType )
00140   {
00141     <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r7">m_messages</a>.insert( msgType );
00142   }
00143 
<a name="l00144"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a19">00144</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a19">isMsgType</a>( <span class="keyword">const</span> std::string&amp; msgType )<span class="keyword"> const</span>
00145 <span class="keyword">  </span>{
00146     <span class="keywordflow">return</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r7">m_messages</a>.find( msgType ) != <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r7">m_messages</a>.end();
00147   }
00148 
<a name="l00149"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a20">00149</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a20">addMsgField</a>( <span class="keyword">const</span> std::string&amp; msgType, <span class="keywordtype">int</span> field )
00150   {
00151     <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r5">m_messageFields</a>[ msgType ].insert( field );
00152   }
00153 
<a name="l00154"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a21">00154</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a21">isMsgField</a>( <span class="keyword">const</span> std::string&amp; msgType, <span class="keywordtype">int</span> field )<span class="keyword"> const</span>
00155 <span class="keyword">  </span>{
00156     MsgTypeToField::const_iterator i = <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r5">m_messageFields</a>.find( msgType );
00157     <span class="keywordflow">if</span> ( i == <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r5">m_messageFields</a>.end() ) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00158     <span class="keywordflow">return</span> i-&gt;second.find( field ) != i-&gt;second.end();
00159   }
00160 
<a name="l00161"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a22">00161</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a22">addHeaderField</a>( <span class="keywordtype">int</span> field, <span class="keywordtype">bool</span> required )
00162   {
00163     <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r11">m_headerFields</a>[ field ] = required;
00164   }
00165 
<a name="l00166"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a23">00166</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a23">isHeaderField</a>( <span class="keywordtype">int</span> field )<span class="keyword"> const</span>
00167 <span class="keyword">  </span>{
00168     <span class="keywordflow">return</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r11">m_headerFields</a>.find( field ) != <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r11">m_headerFields</a>.end();
00169   }
00170 
<a name="l00171"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a24">00171</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a24">addTrailerField</a>( <span class="keywordtype">int</span> field, <span class="keywordtype">bool</span> required )
00172   {
00173     <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r12">m_trailerFields</a>[ field ] = required;
00174   }
00175 
<a name="l00176"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a25">00176</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a25">isTrailerField</a>( <span class="keywordtype">int</span> field )<span class="keyword"> const</span>
00177 <span class="keyword">  </span>{
00178     <span class="keywordflow">return</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r12">m_trailerFields</a>.find( field ) != <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r12">m_trailerFields</a>.end();
00179   }
00180 
<a name="l00181"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a26">00181</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a26">addFieldType</a>( <span class="keywordtype">int</span> field, TYPE::Type type )
00182   {
00183     <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r13">m_fieldTypes</a>[ field ] = type;
00184   }
00185 
<a name="l00186"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a27">00186</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a27">getFieldType</a>( <span class="keywordtype">int</span> field, TYPE::Type&amp; type )<span class="keyword"> const</span>
00187 <span class="keyword">  </span>{
00188     FieldTypes::const_iterator i = <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r13">m_fieldTypes</a>.find( field );
00189     <span class="keywordflow">if</span> ( i == <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r13">m_fieldTypes</a>.end() ) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00190     type = i-&gt;second;
00191     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00192   }
00193 
<a name="l00194"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a28">00194</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a28">addRequiredField</a>( <span class="keyword">const</span> std::string&amp; msgType, <span class="keywordtype">int</span> field )
00195   {
00196     <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r6">m_requiredFields</a>[ msgType ].insert( field );
00197   }
00198 
<a name="l00199"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a29">00199</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a29">isRequiredField</a>( <span class="keyword">const</span> std::string&amp; msgType, <span class="keywordtype">int</span> field )<span class="keyword"> const</span>
00200 <span class="keyword">  </span>{
00201     MsgTypeToField::const_iterator i = <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r6">m_requiredFields</a>.find( msgType );
00202     <span class="keywordflow">if</span> ( i == <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r6">m_requiredFields</a>.end() ) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00203     <span class="keywordflow">return</span> i-&gt;second.find( field ) != i-&gt;second.end();
00204   }
00205 
<a name="l00206"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a30">00206</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a30">addFieldValue</a>( <span class="keywordtype">int</span> field, <span class="keyword">const</span> std::string&amp; value )
00207   {
00208     <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r14">m_fieldValues</a>[ field ].insert( value );
00209   }
00210 
<a name="l00211"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a31">00211</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a31">hasFieldValue</a>( <span class="keywordtype">int</span> field )<span class="keyword"> const</span>
00212 <span class="keyword">  </span>{
00213     FieldToValue::const_iterator i = <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r14">m_fieldValues</a>.find( field );
00214     <span class="keywordflow">return</span> i != <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r14">m_fieldValues</a>.end();
00215   }
00216 
<a name="l00217"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a32">00217</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a32">isFieldValue</a>( <span class="keywordtype">int</span> field, <span class="keyword">const</span> std::string&amp; value )<span class="keyword"> const</span>
00218 <span class="keyword">  </span>{
00219     FieldToValue::const_iterator i = <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r14">m_fieldValues</a>.find( field );
00220     <span class="keywordflow">if</span> ( i == <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r14">m_fieldValues</a>.end() )
00221       <span class="keywordflow">return</span> <span class="keyword">false</span>;
00222     <span class="keywordflow">if</span>( !<a class="code" href="class_f_i_x_1_1_data_dictionary.html#a37">isMultipleValueStringField</a>( field ) )
00223       <span class="keywordflow">return</span> i-&gt;second.find( value ) != i-&gt;second.end();
00224 
00225     <span class="comment">// MultipleValueString</span>
00226     std::string::size_type startPos = 0;
00227     std::string::size_type endPos = 0;
00228     <span class="keywordflow">do</span>
00229     {
00230       endPos = value.find_first_of(<span class="charliteral">' '</span>, startPos);
00231       std::string singleValue =
00232         value.substr( startPos, endPos - startPos );
00233       <span class="keywordflow">if</span>( i-&gt;second.find( singleValue ) == i-&gt;second.end() )
00234         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00235       startPos = endPos + 1;
00236     } <span class="keywordflow">while</span>( endPos != std::string::npos );
00237     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00238   }
00239 
<a name="l00240"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a33">00240</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a33">addGroup</a>( <span class="keyword">const</span> std::string&amp; msg, <span class="keywordtype">int</span> field, <span class="keywordtype">int</span> delim,
00241                  <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html">DataDictionary</a>&amp; dataDictionary )
00242   {
00243     <a class="code" href="class_f_i_x_1_1_data_dictionary.html">DataDictionary</a> * pDD = <span class="keyword">new</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html">DataDictionary</a>;
00244     *pDD = dataDictionary;
00245     pDD-&gt;<a class="code" href="class_f_i_x_1_1_data_dictionary.html#a9">setVersion</a>( <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a10">getVersion</a>() );
00246     <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r18">m_groups</a>[ std::make_pair( msg, field ) ] = std::make_pair( delim, pDD );
00247   }
00248 
<a name="l00249"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a34">00249</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a34">isGroup</a>( <span class="keyword">const</span> std::string&amp; msg, <span class="keywordtype">int</span> field )<span class="keyword"> const</span>
00250 <span class="keyword">  </span>{
00251     <span class="keywordflow">return</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r18">m_groups</a>.find( std::make_pair( msg, field ) ) != <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r18">m_groups</a>.end();
00252   }
00253 
<a name="l00254"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a35">00254</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a35">getGroup</a>( <span class="keyword">const</span> std::string&amp; msg, <span class="keywordtype">int</span> field, <span class="keywordtype">int</span>&amp; delim,
00255                  <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html">DataDictionary</a>*&amp; pDataDictionary )<span class="keyword"> const</span>
00256 <span class="keyword">  </span>{
00257     FieldToGroup::const_iterator i =
00258       <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r18">m_groups</a>.find( std::make_pair( msg, field ) );
00259     <span class="keywordflow">if</span> ( i == <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r18">m_groups</a>.end() ) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00260     std::pair &lt; int, DataDictionary* &gt; pair = i-&gt;second;
00261     delim = pair.first;
00262     pDataDictionary = pair.second;
00263     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00264   }
00265 
<a name="l00266"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a36">00266</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a36">isDataField</a>( <span class="keywordtype">int</span> field )<span class="keyword"> const</span>
00267 <span class="keyword">  </span>{
00268     FieldTypes::const_iterator i = <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r13">m_fieldTypes</a>.find( field );
00269     <span class="keywordflow">return</span> i != <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r13">m_fieldTypes</a>.end() &amp;&amp; i-&gt;second == TYPE::Data;
00270   }
00271 
<a name="l00272"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a37">00272</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a37">isMultipleValueStringField</a>( <span class="keywordtype">int</span> field )<span class="keyword"> const</span>
00273 <span class="keyword">  </span>{
00274     FieldTypes::const_iterator i = <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r13">m_fieldTypes</a>.find( field );
00275     <span class="keywordflow">return</span> i != <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r13">m_fieldTypes</a>.end() &amp;&amp; i-&gt;second == TYPE::MultipleValueString;
00276   }
00277 
<a name="l00278"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a38">00278</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a38">checkFieldsOutOfOrder</a>( <span class="keywordtype">bool</span> value )
00279   { <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r1">m_checkFieldsOutOfOrder</a> = value; }
<a name="l00280"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a39">00280</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a39">checkFieldsHaveValues</a>( <span class="keywordtype">bool</span> value )
00281   { <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r2">m_checkFieldsHaveValues</a> = value; }
<a name="l00282"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#a40">00282</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a40">checkUserDefinedFields</a>( <span class="keywordtype">bool</span> value )
00283   { <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r3">m_checkUserDefinedFields</a> = value; }
00284 
00286   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a41">validate</a>( <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_message.html">Message</a>&amp; message ) <span class="keywordflow">throw</span>( std::exception );
00287   <a class="code" href="class_f_i_x_1_1_data_dictionary.html">DataDictionary</a>&amp; <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a42">operator=</a>( <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html">DataDictionary</a>&amp; rhs );
00288 
00289 <span class="keyword">private</span>:
00291   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#d0">iterate</a>( <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_field_map.html">FieldMap</a>&amp; map, <span class="keyword">const</span> MsgType&amp; msgType );
00292 
<a name="l00294"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#d1">00294</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#d1">checkMsgType</a>( <span class="keyword">const</span> MsgType&amp; msgType )<span class="keyword"> const</span>
00295 <span class="keyword">  </span>{
00296     <span class="keywordflow">if</span> ( !<a class="code" href="class_f_i_x_1_1_data_dictionary.html#a19">isMsgType</a>( msgType.getValue() ) )
00297       <span class="keywordflow">throw</span> <a class="code" href="struct_f_i_x_1_1_invalid_message_type.html">InvalidMessageType</a>();
00298   }
00299 
<a name="l00301"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#d2">00301</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#d2">shouldCheckTag</a>( <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_field_base.html">FieldBase</a>&amp; field )<span class="keyword"> const</span>
00302 <span class="keyword">  </span>{
00303     <span class="keywordflow">if</span>( !<a class="code" href="class_f_i_x_1_1_data_dictionary.html#r3">m_checkUserDefinedFields</a> &amp;&amp; field.<a class="code" href="class_f_i_x_1_1_field_base.html#a3">getField</a>() &gt;= FIELD::UserMin )
00304       <span class="keywordflow">return</span> <span class="keyword">false</span>;
00305     <span class="keywordflow">else</span>
00306       <span class="keywordflow">return</span> <span class="keyword">true</span>;
00307   }
00308 
<a name="l00310"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#d3">00310</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#d3">checkValidTagNumber</a>( <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_field_base.html">FieldBase</a>&amp; field ) <span class="keyword">const</span>
00311   <span class="keywordflow">throw</span>( <a class="code" href="struct_f_i_x_1_1_invalid_tag_number.html">InvalidTagNumber</a> )
00312   {
00313     <span class="keywordflow">if</span>( <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r8">m_fields</a>.find( field.getField() ) == <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r8">m_fields</a>.end() )
00314       <span class="keywordflow">throw</span> <a class="code" href="struct_f_i_x_1_1_invalid_tag_number.html">InvalidTagNumber</a>( field.getField() );
00315   }
00316 
<a name="l00317"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#d4">00317</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#d4">checkValidFormat</a>( <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_field_base.html">FieldBase</a>&amp; field ) <span class="keyword">const</span>
00318   <span class="keywordflow">throw</span>( <a class="code" href="struct_f_i_x_1_1_incorrect_data_format.html">IncorrectDataFormat</a> )
00319   {
00320     <span class="keywordflow">try</span>
00321     {
00322       TYPE::Type type = TYPE::Unknown;
00323       <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a27">getFieldType</a>( field.getField(), type );
00324       <span class="keywordflow">switch</span> ( type )
00325       {
00326       <span class="keywordflow">case</span> TYPE::String:
00327         STRING_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00328       <span class="keywordflow">case</span> TYPE::Char:
00329         CHAR_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00330       <span class="keywordflow">case</span> TYPE::Price:
00331         PRICE_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00332       <span class="keywordflow">case</span> TYPE::Int:
00333         INT_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00334       <span class="keywordflow">case</span> TYPE::Amt:
00335         AMT_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00336       <span class="keywordflow">case</span> TYPE::Qty:
00337         QTY_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00338       <span class="keywordflow">case</span> TYPE::Currency:
00339         CURRENCY_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00340       <span class="keywordflow">case</span> TYPE::MultipleValueString:
00341         MULTIPLEVALUESTRING_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00342       <span class="keywordflow">case</span> TYPE::Exchange:
00343         EXCHANGE_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00344       <span class="keywordflow">case</span> TYPE::UtcTimeStamp:
00345         UTCTIMESTAMP_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00346       <span class="keywordflow">case</span> TYPE::Boolean:
00347         BOOLEAN_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00348       <span class="keywordflow">case</span> TYPE::LocalMktDate:
00349         LOCALMKTDATE_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00350       <span class="keywordflow">case</span> TYPE::Data:
00351         DATA_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00352       <span class="keywordflow">case</span> TYPE::Float:
00353         FLOAT_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00354       <span class="keywordflow">case</span> TYPE::PriceOffset:
00355         PRICEOFFSET_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00356       <span class="keywordflow">case</span> TYPE::MonthYear:
00357         MONTHYEAR_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00358       <span class="keywordflow">case</span> TYPE::DayOfMonth:
00359         DAYOFMONTH_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00360       <span class="keywordflow">case</span> TYPE::UtcDate:
00361         UTCDATE_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00362       <span class="keywordflow">case</span> TYPE::UtcTimeOnly:
00363         UTCTIMEONLY_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00364       <span class="keywordflow">case</span> TYPE::NumInGroup:
00365         NUMINGROUP_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00366       <span class="keywordflow">case</span> TYPE::Percentage:
00367         PERCENTAGE_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00368       <span class="keywordflow">case</span> TYPE::SeqNum:
00369         SEQNUM_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00370       <span class="keywordflow">case</span> TYPE::Length:
00371         LENGTH_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00372       <span class="keywordflow">case</span> TYPE::Country:
00373         COUNTRY_CONVERTOR::convert( field.getString() ); <span class="keywordflow">break</span>;
00374       <span class="keywordflow">case</span> TYPE::Unknown: <span class="keywordflow">break</span>;
00375       }
00376     }
00377     <span class="keywordflow">catch</span> ( <a class="code" href="struct_f_i_x_1_1_field_convert_error.html">FieldConvertError</a>&amp; )
00378     { <span class="keywordflow">throw</span> <a class="code" href="struct_f_i_x_1_1_incorrect_data_format.html">IncorrectDataFormat</a>( field.getField(), field.getString() ); }
00379   }
00380 
<a name="l00381"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#d5">00381</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#d5">checkValue</a>( <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_field_base.html">FieldBase</a>&amp; field ) <span class="keyword">const</span>
00382   <span class="keywordflow">throw</span>( <a class="code" href="struct_f_i_x_1_1_incorrect_tag_value.html">IncorrectTagValue</a> )
00383   {
00384     <span class="keywordflow">if</span> ( !<a class="code" href="class_f_i_x_1_1_data_dictionary.html#a31">hasFieldValue</a>( field.getField() ) ) <span class="keywordflow">return</span> ;
00385 
00386     <span class="keyword">const</span> std::string&amp; value = field.getString();
00387     <span class="keywordflow">if</span> ( !<a class="code" href="class_f_i_x_1_1_data_dictionary.html#a32">isFieldValue</a>( field.getField(), value ) )
00388       <span class="keywordflow">throw</span> <a class="code" href="struct_f_i_x_1_1_incorrect_tag_value.html">IncorrectTagValue</a>( field.getField() );
00389   }
00390 
<a name="l00392"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#d6">00392</a>   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#d6">checkHasValue</a>( <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_field_base.html">FieldBase</a>&amp; field ) <span class="keyword">const</span>
00393   <span class="keywordflow">throw</span>( <a class="code" href="struct_f_i_x_1_1_no_tag_value.html">NoTagValue</a> )
00394   {
00395     <span class="keywordflow">if</span> ( <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r2">m_checkFieldsHaveValues</a> &amp;&amp; !field.getString().length() )
00396       <span class="keywordflow">throw</span> <a class="code" href="struct_f_i_x_1_1_no_tag_value.html">NoTagValue</a>( field.getField() );
00397   }
00398 
00400   <span class="keywordtype">void</span> checkIsInMessage
<a name="l00401"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#d7">00401</a>   ( <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_field_base.html">FieldBase</a>&amp; field, <span class="keyword">const</span> MsgType&amp; msgType ) <span class="keyword">const</span>
00402   <span class="keywordflow">throw</span>( <a class="code" href="struct_f_i_x_1_1_tag_not_defined_for_message.html">TagNotDefinedForMessage</a> )
00403   {
00404     <span class="keywordflow">if</span> ( !<a class="code" href="class_f_i_x_1_1_data_dictionary.html#a21">isMsgField</a>( msgType, field.getField() ) )
00405       <span class="keywordflow">throw</span> <a class="code" href="struct_f_i_x_1_1_tag_not_defined_for_message.html">TagNotDefinedForMessage</a>( field.getField() );
00406   }
00407 
00409   <span class="keywordtype">void</span> checkGroupCount
<a name="l00410"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#d8">00410</a>   ( <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_field_base.html">FieldBase</a>&amp; field, <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_field_map.html">FieldMap</a>&amp; fieldMap, <span class="keyword">const</span> MsgType&amp; msgType ) <span class="keyword">const</span>
00411   <span class="keywordflow">throw</span>( <a class="code" href="struct_f_i_x_1_1_repeating_group_count_mismatch.html">RepeatingGroupCountMismatch</a> )
00412   {
00413     <span class="keywordtype">int</span> fieldNum = field.getField();
00414     <span class="keywordflow">if</span>( <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a34">isGroup</a>(msgType, fieldNum) )
00415     {
00416       <span class="keywordflow">if</span>( fieldMap.groupCount(fieldNum)
00417         != IntConvertor::convert(field.getString()) )
00418       <span class="keywordflow">throw</span> <a class="code" href="struct_f_i_x_1_1_repeating_group_count_mismatch.html">RepeatingGroupCountMismatch</a>(fieldNum);
00419     }
00420   }
00421 
00423   <span class="keywordtype">void</span> checkHasRequired
<a name="l00424"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#d9">00424</a>   ( <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_field_map.html">FieldMap</a>&amp; header, <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_field_map.html">FieldMap</a>&amp; body, <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_field_map.html">FieldMap</a>&amp; trailer,
00425     <span class="keyword">const</span> MsgType&amp; msgType ) <span class="keyword">const</span>
00426   <span class="keywordflow">throw</span>( <a class="code" href="struct_f_i_x_1_1_required_tag_missing.html">RequiredTagMissing</a> )
00427   {
00428     NonBodyFields::const_iterator iNBF;
00429     <span class="keywordflow">for</span>( iNBF = <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r11">m_headerFields</a>.begin(); iNBF != <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r11">m_headerFields</a>.end(); ++iNBF )
00430     {
00431       <span class="keywordflow">if</span>( iNBF-&gt;second == <span class="keyword">true</span> &amp;&amp; !header.isSetField(iNBF-&gt;first) )
00432         <span class="keywordflow">throw</span> <a class="code" href="struct_f_i_x_1_1_required_tag_missing.html">RequiredTagMissing</a>( iNBF-&gt;first );
00433     }
00434 
00435     <span class="keywordflow">for</span>( iNBF = <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r12">m_trailerFields</a>.begin(); iNBF != <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r12">m_trailerFields</a>.end(); ++iNBF )
00436     {
00437       <span class="keywordflow">if</span>( iNBF-&gt;second == <span class="keyword">true</span> &amp;&amp; !trailer.isSetField(iNBF-&gt;first) )
00438         <span class="keywordflow">throw</span> <a class="code" href="struct_f_i_x_1_1_required_tag_missing.html">RequiredTagMissing</a>( iNBF-&gt;first );
00439     }
00440 
00441     MsgTypeToField::const_iterator iM
00442       = <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r6">m_requiredFields</a>.find( msgType.getString() );
00443     <span class="keywordflow">if</span> ( iM == <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r6">m_requiredFields</a>.end() ) <span class="keywordflow">return</span> ;
00444 
00445     <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y0">MsgFields</a>&amp; fields = iM-&gt;second;
00446     MsgFields::const_iterator iF;
00447     <span class="keywordflow">for</span>( iF = fields.begin(); iF != fields.end(); ++iF )
00448     {
00449       <span class="keywordflow">if</span>( !body.isSetField(*iF) )
00450         <span class="keywordflow">throw</span> <a class="code" href="struct_f_i_x_1_1_required_tag_missing.html">RequiredTagMissing</a>( *iF );
00451     }
00452 
00453     <a class="code" href="class_f_i_x_1_1_field_map.html#w4">FieldMap::g_iterator</a> groups;
00454     <span class="keywordflow">for</span>( groups = body.g_begin(); groups != body.g_end(); ++groups )
00455     {
00456       <span class="keywordtype">int</span> delim;
00457       <span class="keyword">const</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html">DataDictionary</a>* DD = 0;
00458       <span class="keywordtype">int</span> field = groups-&gt;first;
00459       <span class="keywordflow">if</span>( <a class="code" href="class_f_i_x_1_1_data_dictionary.html#a35">getGroup</a>( msgType.getValue(), field, delim, DD ) )
00460       {
00461         std::vector&lt;FieldMap*&gt;::const_iterator group;
00462         <span class="keywordflow">for</span>( group = groups-&gt;second.begin(); group != groups-&gt;second.end(); ++group )
00463           DD-&gt;<a class="code" href="class_f_i_x_1_1_data_dictionary.html#d9">checkHasRequired</a>( **group, **group, **group, msgType );
00464       }
00465     }
00466   }
00467 
00469   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#d10">readMSXMLDOM</a>( <span class="keyword">const</span> std::string&amp; );
00470   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#d11">readMSXML</a>( <span class="keyword">const</span> std::string&amp; );
00472   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#d12">readLibXml</a>( <span class="keyword">const</span> std::string&amp; );
00473 
00474   <span class="keywordtype">int</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#d13">lookupXMLFieldNumber</a>( <a class="code" href="class_f_i_x_1_1_d_o_m_document.html">DOMDocument</a>*, <a class="code" href="class_f_i_x_1_1_d_o_m_node.html">DOMNode</a>* ) <span class="keyword">const</span>;
00475   <span class="keywordtype">int</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#d13">lookupXMLFieldNumber</a>( <a class="code" href="class_f_i_x_1_1_d_o_m_document.html">DOMDocument</a>*, <span class="keyword">const</span> std::string&amp; name ) <span class="keyword">const</span>;
00476   <span class="keywordtype">int</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#d15">addXMLComponentFields</a>( <a class="code" href="class_f_i_x_1_1_d_o_m_document.html">DOMDocument</a>*, <a class="code" href="class_f_i_x_1_1_d_o_m_node.html">DOMNode</a>*, <span class="keyword">const</span> std::string&amp; msgtype, <a class="code" href="class_f_i_x_1_1_data_dictionary.html">DataDictionary</a>&amp;, <span class="keywordtype">bool</span> );
00477   <span class="keywordtype">void</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#d16">addXMLGroup</a>( <a class="code" href="class_f_i_x_1_1_d_o_m_document.html">DOMDocument</a>*, <a class="code" href="class_f_i_x_1_1_d_o_m_node.html">DOMNode</a>*, <span class="keyword">const</span> std::string&amp; msgtype, <a class="code" href="class_f_i_x_1_1_data_dictionary.html">DataDictionary</a>&amp;, <span class="keywordtype">bool</span> );
00478   TYPE::Type <a class="code" href="class_f_i_x_1_1_data_dictionary.html#d17">XMLTypeToType</a>( <span class="keyword">const</span> std::string&amp; xmlType ) <span class="keyword">const</span>;
00479 
<a name="l00480"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r0">00480</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r0">m_hasVersion</a>;
<a name="l00481"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r1">00481</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r1">m_checkFieldsOutOfOrder</a>;
<a name="l00482"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r2">00482</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r2">m_checkFieldsHaveValues</a>;
<a name="l00483"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r3">00483</a>   <span class="keywordtype">bool</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r3">m_checkUserDefinedFields</a>;
<a name="l00484"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r4">00484</a>   BeginString <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r4">m_beginString</a>;
<a name="l00485"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r5">00485</a>   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y1">MsgTypeToField</a> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r5">m_messageFields</a>;
<a name="l00486"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r6">00486</a>   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y1">MsgTypeToField</a> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r6">m_requiredFields</a>;
<a name="l00487"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r7">00487</a>   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y2">MsgTypes</a> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r7">m_messages</a>;
<a name="l00488"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r8">00488</a>   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y3">Fields</a> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r8">m_fields</a>;
<a name="l00489"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r9">00489</a>   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y5">OrderedFields</a> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r9">m_orderedFields</a>;
<a name="l00490"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r10">00490</a>   <span class="keyword">mutable</span> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y6">OrderedFieldsArray</a> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r10">m_orderedFieldsArray</a>;
<a name="l00491"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r11">00491</a>   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y4">NonBodyFields</a> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r11">m_headerFields</a>;
<a name="l00492"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r12">00492</a>   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y4">NonBodyFields</a> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r12">m_trailerFields</a>;
<a name="l00493"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r13">00493</a>   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y7">FieldTypes</a> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r13">m_fieldTypes</a>;
<a name="l00494"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r14">00494</a>   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y9">FieldToValue</a> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r14">m_fieldValues</a>;
<a name="l00495"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r15">00495</a>   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y10">FieldToName</a> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r15">m_fieldNames</a>;
<a name="l00496"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r16">00496</a>   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y11">NameToField</a> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r16">m_names</a>;
<a name="l00497"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r17">00497</a>   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y12">ValueToName</a> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r17">m_valueNames</a>;
<a name="l00498"></a><a class="code" href="class_f_i_x_1_1_data_dictionary.html#r18">00498</a>   <a class="code" href="class_f_i_x_1_1_data_dictionary.html#y13">FieldToGroup</a> <a class="code" href="class_f_i_x_1_1_data_dictionary.html#r18">m_groups</a>;
00499 };
00500 }
00501 
00502 <span class="preprocessor">#endif //FIX_DATADICTIONARY_H</span>
</pre></div><hr><address><small>
Generated on Thu Sep 14 08:52:33 2006 for QuickFIX by <a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 width=110 height=53>
</a> 1.3.6-20040222 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
